#!/bin/sh
# Generated by BetterMake
# md5sum: 39ae8b28e98601553ff679f0263099eb


##
# C Compiler Test
#   Verifies that the current machine and toolchain have a C Compiler
#   installed and checks for dependency tracking.
# Variables
#   cc
#     Set to the available C Compiler.
#   precc
#     Adds dependency tracking to pre compilation.
#   CFLAGS
#     Adds flags for dependency tracking.
#.

echo -n "checking for compiler (${toolchain}gcc)... "
if which "${toolchain}gcc" >/dev/null ; then
	echo yes ; cc="${toolchain}gcc"
else
	echo no

	echo -n "checking for compiler (${toolchain}cc)... "
	if which "${toolchain}gcc" >/dev/null ; then
		echo yes ; cc="${toolchain}cc"
	else
		echo "error: no compiler found"
		exit 1
	fi
fi

precc="$precc if [ ! -d \"\$(@D)/$depdir\" ] ; then mkdir \"\$(@D)/$depdir\" ; fi ; "
CFLAGS="$CFLAGS -MD -MP -MF \$(@D)/$depdir/\$(@F).dep"
